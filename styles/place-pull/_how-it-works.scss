@import "./variables";
@import "./mixins";

#how-it-works {
  text-align: -webkit-center;

  $card-vertical-padding: 25px;
  .card {
    background-color: $whie-blueish;
    border-radius: 14px;
    overflow: hidden;
    width: fit-content;
    padding: $card-vertical-padding 45px;
    * {
      background-color: $whie-blueish;
    }
  }

  #how-it-works-div {
    height: 340px;
    width: 100%;
    float: left;
  }

  .inline-children {
    height: calc(100% - #{$card-vertical-padding * 2});
    > * {
      height: -webkit-fill-available;
    }

    > div:first-of-type {
      height: 100%;
      float: left;
      > img {
        height: auto;
        width: auto;
        max-height: 100%;
        float: right;
      }
    }
    > div:last-of-type {
      float: right;
      > div {
        float: left;
        div {
          text-align: left;
        }
      }
    }
  }

  div > div {
    text-align: center;
  }

  .title-div {
    margin: 60px 0;
    p {
      text-align: center !important;
    }
  }

  div > div:first-of-type {
    > h3,
    p {
      text-align: left;
    }
  }

  img {
    max-width: 100%;
  }

  .bullet-point {
    & > * {
      display: inline;
    }

    & > img {
      vertical-align: middle;
      height: $icon-height;
      width: auto;
      margin-right: 10px;
      @include grey-filter;
    }

    & > p {
      height: $icon-height;
      line-height: $icon-height;
    }
  }

  .steps {
    max-width: 550px;
    & > * {
      text-align: start;
    }

    & > div:first-of-type > img {
      @include blue-iconize;
    }

    .bullet-point:not(:first-of-type) {
      border-top: solid;
      border-width: 1px;
      border-color: $border-color;
      padding: 20px 0;
    }

    > div:last-of-type {
      margin-top: 140px;
    }
  }

  @media #{$medium-down} {
    #how-it-works-div {
      width: 90%;
    }
    > div:nth-of-type(n + 2) {
      padding: 0 5%;
    }
  }

  @media #{$medium-up} {
    & > div:not(:last-child) {
      width: 44%;
    }

    @for $i from 2 to 7 {
      & > div:nth-child(#{$i}) {
        $floatSide: left;
        $textAlign: -webkit-right;
        @if ($i % 2 == 0) {
          $floatSide: right;
          $textAlign: -webkit-left;
          padding-right: 5%;
        } @else {
          padding-left: 5%;
        }

        float: $floatSide;
        text-align: $textAlign;
        & > div {
          text-align: -webkit-match-parent;
        }
      }
    }
  }
}
